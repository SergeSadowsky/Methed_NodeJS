const getId = () => 
    Math.floor(Math.random() * 0xFFFFFFFFFF)
        .toString(16).padStart(10, '0');

const getYears = (dateStr) => {
    const now = new Date();
    const [dd, mm, yyyy] = dateStr.split('.');
    result = now.getFullYear() - yyyy;
    const nowDay = now.getDay();
    const nowMonth = now.getMonth() + 1;
    if(nowMonth < +mm) {
        return result - 1;
    };
    if(nowMonth === +mm) {
        if(nowDay < +dd) {
            return result - 1;
        }
    };
    return result;
};

exports.myFunc = (dataObj) => {
    const [fn, ln] = dataObj['name'].split(' ');
    const age = getYears(dataObj['dateBirth']);
    return {
        id : getId(),
        firstName: fn.charAt(0).toUpperCase() + fn.slice(1),
        lastName: ln.charAt(0).toUpperCase() + ln.slice(1),
        dateBirth: dataObj['dateBirth'],
        age: age.toString(),
        purpose: dataObj['purpose'],
    };
};
